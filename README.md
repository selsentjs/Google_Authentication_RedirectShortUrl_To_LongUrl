-- google sign-IN
CREATE TABLE users (
  id INT AUTO_INCREMENT PRIMARY KEY,
  google_id VARCHAR(255) NOT NULL UNIQUE,
  email VARCHAR(255) NOT NULL,
  name VARCHAR(255),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Register
CREATE TABLE register(
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  email VARCHAR(255) NOT NULL UNIQUE,
  password VARCHAR(255) NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, 
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP 
);

-- create table
CREATE TABLE analytics (
    id INT AUTO_INCREMENT PRIMARY KEY,
    shortUrl VARCHAR(255) NOT NULL, 
    userAgent VARCHAR(255),         
    ipAddress VARCHAR(255),         
    deviceType VARCHAR(50),        
    osType VARCHAR(50),             
    createdAt DATETIME DEFAULT CURRENT_TIMESTAMP    
);

CREATE TABLE shortUrl (
ID INT NOT NULL AUTO_INCREMENT,
longUrl TEXT NOT NULL,
shortUrl VARCHAR(255) NOT NULL UNIQUE,
customAlias TEXT,
topic VARCHAR(255),
CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
PRIMARY KEY(ID)
);

ALTER TABLE shortUrl MODIFY expiryDate TIMESTAMP;

